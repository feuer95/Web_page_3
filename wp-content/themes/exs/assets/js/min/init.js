"use strict";!function(h,L,b){function c(e,t,o,a,s){t.classList.add(o),a.classList.add(s),e.setAttribute("aria-expanded","true"),"search_toggle"===e.id&&b("search_dropdown").children[0].children[0].focus(),"message_top_toggle"!==e.id&&"message_bottom_toggle"!==e.id||(function(e){var t=new Date;t.setTime(t.getTime()+31536e6);var o="expires="+t.toUTCString();h.cookie=e+"=1;"+o+";path=/"}(e.getAttribute("data-id")),e.parentNode.remove())}function d(e,t,o,a,s){t.classList.remove(o),a.classList.remove(s),e.setAttribute("aria-expanded","false")}function l(e,t){return-1!==e.className.indexOf(t)}function w(a,s,n,r,i){r.addEventListener("click",function(e){var t=b(s),o=b(a);t&&o&&(e.target.id!==s&&!e.target.closest("#"+s)||(l(o,n)?d:c)(t,o,n,r,i),l(o,n)&&e.target.id!==s&&e.target.closest("#"+s)!==t&&!e.target.closest("#"+a)&&d(t,o,n,r,i))}),"message_top_toggle"!==s&&"message_bottom_toggle"!==s&&L.addEventListener("scroll",function(e){var t=b(s),o=b(a);t&&o&&l(o,n)&&d(t,o,n,r,i)})}function y(){h.body.dispatchEvent(new Event("click"))}h.addEventListener("DOMContentLoaded",function(e){var i=h.body;w("nav_top","nav_toggle","active",i,"top-menu-active"),w("nav_side","nav_side_toggle","active",i,"side-menu-active"),w("search_dropdown","search_toggle","active",i,"search-dropdown-active"),w("topline_dropdown","topline_dropdown_toggle","active",i,"topline-dropdown-active"),w("dropdown-cart","dropdown-cart-toggle","active",i,"cart-dropdown-active"),w("message_top","message_top_toggle","active",i,"messagee-top-active"),w("message_bottom","message_bottom_toggle","active",i,"messagee-bottom-active");var t=b("search_modal_close"),o=b("search_toggle"),a=h.querySelector("#search_dropdown .search-field");t&&(t.onclick=function(e){o&&(y(),o.focus(),e.preventDefault(),e.stopPropagation())},t.onblur=function(e){a&&a.focus()});var s=b("logo"),n=b("nav_toggle"),r=b("nav_close"),c=h.querySelector(".top-menu li:first-child>a"),d=b("skip_link");r&&n&&n.addEventListener("click",function(e){r.focus()}),h.addEventListener("keydown",function(e){"Escape"===e.key&&y(),e.key,"Tab"===e.key&&e.shiftKey&&(e.target===r&&(y(),n&&n.focus(),e.preventDefault(),e.stopPropagation()),e.target===c&&r&&(r.focus(),e.preventDefault(),e.stopPropagation()),e.target===a&&t&&(t.focus(),e.preventDefault(),e.stopPropagation()),e.target===o&&(s.focus(),e.preventDefault(),e.stopPropagation()),e.target===n&&(o?o.focus():s.focus(),e.preventDefault(),e.stopPropagation()),e.target===s&&d&&(d.focus(),e.preventDefault(),e.stopPropagation()))}),r&&(r.onblur=function(e){c&&c.focus()},r.addEventListener("click",function(e){y(),n&&n.focus()})),function(e){for(var t=0;t<e.length;++t)e[t].addEventListener("click",function(e){e.preventDefault()})}(h.querySelectorAll('a[href="#"]'));var l,f,u=b("header-affix-wrap");if(u){var g=b("header");f=(l=g).offsetTop,L.onscroll=function(e){L.pageYOffset>=f?l.classList.add("affix"):l.classList.remove("affix"),0===L.pageYOffset&&l.classList.remove("affix"),this.oldScroll>this.scrollY?(l.classList.add("scrolling-up"),l.classList.remove("scrolling-down")):(l.classList.remove("scrolling-up"),l.classList.add("scrolling-down")),this.oldScroll=this.scrollY}}if("undefined"!=typeof Masonry&&"undefined"!=typeof imagesLoaded){var p,v=h.querySelectorAll(".masonry");if(v.length)for(p=0;p<v.length;p++)imagesLoaded(v[p],function(e){new Masonry(e.elements[0],{itemSelector:".grid-item",columnWidth:".grid-sizer",percentPosition:!0})})}var m=b("to-top");m&&(m.addEventListener("click",function(e){e.preventDefault(),L.scroll({top:0,left:0,behavior:"smooth"})}),L.addEventListener("scroll",function(e){60<L.pageYOffset?m.classList.add("visible"):m.classList.remove("visible")})),(m||u)&&L.dispatchEvent(new Event("scroll"));var _=h.querySelectorAll(".exs-ajax-form");_&&_.forEach(function(e,t){e.onsubmit=function(e){e.preventDefault();var a=e.target,t=a.querySelector(".exs-form-message");t&&t.remove();var s=a.querySelector("button");s&&(s.setAttribute("disabled","disabled"),s.classList.add("loading"));for(var o="nonce="+i.getAttribute("data-nonce")+"&action=exs_ajax_form",n=0;n<a.length-1;n++)o+="&"+a[n].name+"="+a[n].placeholder+"|||"+a[n].value;var r=new XMLHttpRequest;r.onload=function(e){var t=JSON.parse(r.response),o=h.createElement("div");o.classList.add("exs-form-message"),o.appendChild(h.createTextNode(t.data.message)),a.appendChild(o),a.reset(),s.removeAttribute("disabled")},r.onerror=function(){console.error("error")},r.open("post",i.getAttribute("data-ajax")),r.setRequestHeader("Content-type","application/x-www-form-urlencoded"),r.send(o)}}),i.classList.add("dom-loaded")}),L.onload=function(){h.body.classList.add("window-loaded");var e=b("preloader");e&&e.classList.add("loaded")}}(document,window,document.getElementById.bind(document));